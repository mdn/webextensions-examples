<!DOCTYPE html>
<html>
  <head>
    <title>Save files into IndexedDB</title>
    <meta charset="utf-8">
    <style>
     .overflow-scroll {
       max-height: 200px;
       overflow: auto;
     }
    </style>
    <script src="/vendor/jszip.js"></script>
  </head>
  <body>
    <h1>Reading files from a local directory tree and save them into IndexedDB</h1>

    <hr/>

    <h2>1. Open a directory tree of local files to save into indexedDB</h2>

    <div>
      <input type="file" id="filepicker" name="fileList" webkitdirectory multiple>
    </div>

    <h2>2. Retrieve files saved in the IndexedDB</h2>

    <button id="list-saved-files">List all the saved files</button>

    <div>
      <input id="filename-to-read" placeholder="filename to read...">
      <button id="read-file">Read a file by IndexedDB key</button>
    </div>

    <hr/>

    <h2>2. Download all the saved files as a single Zip file</h2>

    <button id="zip-files">Save as a zip file</button>
    <a id="zip-file-link" target="_blank"></a>

    <hr>

    <button id="clear-logs">Clear Logs</button>

    <div id="indexed-images" class="overflow-scroll">
      <pre>Images retrieved from the files saved in the IndexedDB...</pre>
    </div>

    <pre id="indexed-logs" class="overflow-scroll">Logs from the IndexedDB operations...</pre>

    <script src="indexeddb-save-files.js"></script>
  </body>
</html>
